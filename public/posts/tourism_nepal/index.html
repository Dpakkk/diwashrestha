<!doctype html><html lang=en><head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta name=robots content="noodp"><meta http-equiv=x-ua-compatible content="IE=edge, chrome=1"><title>Tourism in Nepal - Diwashrestha</title><meta name=Description content="Diwash Shrestha Personal Website"><meta property="og:title" content="Tourism in Nepal"><meta property="og:description" content="Introduction Nepal is celebrating year 2020 as “Tourism Year” targeting 2 million international tourist arrivals. You can learn more about the #VisitNepal2020. I want to see the trend/history of nepal tourism and extracted the data from the Wikipedia in Scraping Data with R blog post.
Visit Nepal 2020&#34;Visit Nepal 2020 In this section, we will work on the scrapped data from the Scraping Data with R blog post and perform analysis, create some visualization and understand the trend of Tourism in Nepal."><meta property="og:type" content="article"><meta property="og:url" content="http://diwashrestha.com.np/posts/tourism_nepal/"><meta property="og:image" content="http://diwashrestha.com.np/images/bloglogo.png"><meta property="article:published_time" content="2019-11-22T23:29:14+05:45"><meta property="article:modified_time" content="2019-11-22T23:29:14+05:45"><meta name=twitter:card content="summary_large_image"><meta name=twitter:image content="http://diwashrestha.com.np/images/bloglogo.png"><meta name=twitter:title content="Tourism in Nepal"><meta name=twitter:description content="Introduction Nepal is celebrating year 2020 as “Tourism Year” targeting 2 million international tourist arrivals. You can learn more about the #VisitNepal2020. I want to see the trend/history of nepal tourism and extracted the data from the Wikipedia in Scraping Data with R blog post.
Visit Nepal 2020&#34;Visit Nepal 2020 In this section, we will work on the scrapped data from the Scraping Data with R blog post and perform analysis, create some visualization and understand the trend of Tourism in Nepal."><meta name=application-name content="diwashrestha"><meta name=apple-mobile-web-app-title content="diwashrestha"><meta name=theme-color content="#ffffff"><meta name=msapplication-TileColor content="#da532c"><link rel="shortcut icon" type=image/x-icon href=/favicon.ico><link rel=icon type=image/png sizes=32x32 href=/favicon-32x32.png><link rel=icon type=image/png sizes=16x16 href=/favicon-16x16.png><link rel=apple-touch-icon sizes=180x180 href=/apple-touch-icon.png><link rel=mask-icon href=/safari-pinned-tab.svg color=#5bbad5><link rel=manifest href=/site.webmanifest><link rel=canonical href=http://diwashrestha.com.np/posts/tourism_nepal/><link rel=prev href=http://diwashrestha.com.np/posts/scraping_data_with_r/><link rel=next href=http://diwashrestha.com.np/posts/solveathon-2019/><link rel=stylesheet href=/lib/normalize/normalize.min.css><link rel=stylesheet href=/css/style.min.css><link rel=stylesheet href=/lib/fontawesome-free/all.min.css><link rel=stylesheet href=/lib/animate/animate.min.css><script type=application/ld+json>{"@context":"http://schema.org","@type":"BlogPosting","headline":"Tourism in Nepal","inLanguage":"en","mainEntityOfPage":{"@type":"WebPage","@id":"http:\/\/diwashrestha.com.np\/posts\/tourism_nepal\/"},"genre":"posts","wordcount":1207,"url":"http:\/\/diwashrestha.com.np\/posts\/tourism_nepal\/","datePublished":"2019-11-22T23:29:14+05:45","dateModified":"2019-11-22T23:29:14+05:45","description":""}</script></head><body header-desktop=fixed header-mobile=auto><script type=text/javascript>(window.localStorage&&localStorage.getItem('theme')?localStorage.getItem('theme')==='dark':(''==='auto'?window.matchMedia('(prefers-color-scheme: dark)').matches:''==='dark'))&&document.body.setAttribute('theme','dark');</script><div id=mask></div><div class=wrapper><header class=desktop id=header-desktop><div class=header-wrapper><div class=header-title><a href=/ title=Diwashrestha>DiwAsh ShresthA</a></div><div class=menu><div class=menu-inner><a class=menu-item href=/posts/>Posts </a><a class=menu-item href=/me/ title="About Me">About Me </a><a class=menu-item href=/projects/>Projects </a><a class=menu-item href=/programstalks/>Program & Talks </a><span class="menu-item delimiter"></span><a href=javascript:void(0); class="menu-item theme-switch" title="Switch Theme"><i class="fas fa-adjust fa-fw"></i></a></div></div></div></header><header class=mobile id=header-mobile><div class=header-container><div class=header-wrapper><div class=header-title><a href=/ title=Diwashrestha>DiwAsh ShresthA</a></div><div class=menu-toggle id=menu-toggle-mobile><span></span><span></span><span></span></div></div><div class=menu id=menu-mobile><a class=menu-item href=/posts/>Posts</a><a class=menu-item href=/me/ title="About Me">About Me</a><a class=menu-item href=/projects/>Projects</a><a class=menu-item href=/programstalks/>Program & Talks</a><a href=javascript:void(0); class="menu-item theme-switch" title="Switch Theme">
<i class="fas fa-adjust fa-fw"></i></a></div></div></header><div class="search-dropdown desktop"><div id=search-dropdown-desktop></div></div><div class="search-dropdown mobile"><div id=search-dropdown-mobile></div></div><main class=main><div class=container><article class="page single"><h1 class="single-title animated flipInX">Tourism in Nepal</h1><div class=post-meta><div class=post-meta-line><span class=post-author><a href=/ title=Author rel=author class=author><i class="fas fa-user-circle fa-fw"></i></a></span></div><div class=post-meta-line><i class="far fa-calendar-alt fa-fw"></i>&nbsp;<time datetime="Friday, Nov 22, 2019">Friday, Nov 22, 2019</time>&nbsp;
<i class="fas fa-pencil-alt fa-fw"></i>&nbsp;about 1207 words&nbsp;
<i class="far fa-clock fa-fw"></i>&nbsp;6 min&nbsp;</div></div><div class=featured-image><img class=lazyload src=/svg/loading/normal.min.svg data-src=/images/tourism_in_nepal/preview.png data-srcset="/images/tourism_in_nepal/preview.png, /images/tourism_in_nepal/preview.png 1.5x, /images/tourism_in_nepal/preview.png 2x" data-sizes=auto alt=/images/tourism_in_nepal/preview.png title=/images/tourism_in_nepal/preview.png></div><div class=content id=content><h3 id=introduction>Introduction</h3><p>Nepal is celebrating year 2020 as “Tourism Year” targeting 2 million international tourist arrivals. You can learn more about the <a href=https://visitnepal2020.com/ target=_blank rel="noopener noreffer">#VisitNepal2020</a>. I want to see the trend/history of nepal tourism and extracted the data from the <a href=https://en.wikipedia.org/wiki/Tourism_in_Nepal target=_blank rel="noopener noreffer">Wikipedia</a> in <a href=/posts/scraping_data_with_r/ rel>Scraping Data with R</a> blog post.</p><figure><a class=lightgallery href=/images/tourism_in_nepal/vny2020.jpeg title=/images/tourism_in_nepal/vny2020.jpeg data-thumbnail=/images/tourism_in_nepal/vny2020.jpeg data-sub-html="<h2>Visit Nepal 2020</h2>"><img class=lazyload src=/svg/loading/normal.min.svg data-src=/images/tourism_in_nepal/vny2020.jpeg data-srcset="/images/tourism_in_nepal/vny2020.jpeg, /images/tourism_in_nepal/vny2020.jpeg 1.5x, /images/tourism_in_nepal/vny2020.jpeg 2x" data-sizes=auto alt=/images/tourism_in_nepal/vny2020.jpeg></a><figcaption class=image-caption>Visit Nepal 2020</figcaption></figure><p>In this section, we will work on the scrapped data from the <a href=/posts/scraping_data_with_r/ rel>Scraping Data with R</a> blog post and perform analysis, create some visualization and understand the trend of Tourism in Nepal.</p><h3 id=lets-start>Lets Start</h3><p>I will load the required package for this blog.</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span><span class=lnt>5
</span><span class=lnt>6
</span><span class=lnt>7
</span><span class=lnt>8
</span></code></pre></td><td class=lntd><pre class=chroma><code class=language-R data-lang=R><span class=nf>library</span><span class=p>(</span><span class=n>ggplot2</span><span class=p>)</span>
<span class=nf>library</span><span class=p>(</span><span class=n>dplyr</span><span class=p>)</span>
<span class=nf>library</span><span class=p>(</span><span class=n>tidyr</span><span class=p>)</span>
<span class=nf>library</span><span class=p>(</span><span class=n>purrr</span><span class=p>)</span>
<span class=nf>library</span><span class=p>(</span><span class=n>stringr</span><span class=p>)</span>
<span class=nf>library</span><span class=p>(</span><span class=n>lubridate</span><span class=p>)</span>
<span class=nf>library</span><span class=p>(</span><span class=n>gganimate</span><span class=p>)</span>
<span class=nf>library</span><span class=p>(</span><span class=n>plotly</span><span class=p>)</span>
</code></pre></td></tr></table></div></div><table><thead><tr><th>year</th><th>tourist_number</th><th>per_change</th></tr></thead><tbody><tr><td><int></td><td><int></td><td><dbl></td></tr><tr><td>1993</td><td>293567</td><td>-12.2</td></tr><tr><td>1994</td><td>326531</td><td>11.2</td></tr><tr><td>1995</td><td>363395</td><td>11.3</td></tr><tr><td>1996</td><td>393613</td><td>8.3</td></tr><tr><td>1997</td><td>421857</td><td>7.2</td></tr><tr><td>1998</td><td>463684</td><td>9.9</td></tr><tr><td>1999</td><td>491504</td><td>6.0</td></tr><tr><td>2000</td><td>463646</td><td>-5.7</td></tr><tr><td>2001</td><td>361237</td><td>-22.1</td></tr><tr><td>2002</td><td>275468</td><td>-23.7</td></tr></tbody></table><p>This is the data frame which I got after the extraction and cleaning process in the Scraping Data with R blog post. Now I will create a visualization from this data using <a href=https://ggplot2.tidyverse.org/ target=_blank rel="noopener noreffer">ggplot2</a> and <a href=https://plot.ly/r/ target=_blank rel="noopener noreffer">plotly</a>.</p><h3 id=visuals>Visuals</h3><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span></code></pre></td><td class=lntd><pre class=chroma><code class=language-R data-lang=R><span class=n>gplot</span> <span class=o>&lt;-</span> <span class=nf>ggplot</span><span class=p>(</span><span class=n>tourist_df</span><span class=p>,</span> <span class=nf>aes</span><span class=p>(</span>
  <span class=n>x</span> <span class=o>=</span> <span class=n>year</span><span class=p>,</span>
  <span class=n>y</span> <span class=o>=</span> <span class=n>tourist_number</span><span class=p>,</span> <span class=n>fill</span> <span class=o>=</span> <span class=n>tourist_number</span>
<span class=p>))</span> <span class=o>+</span>
  <span class=nf>geom_col</span><span class=p>()</span> <span class=o>+</span>
  <span class=nf>labs</span><span class=p>(</span>
    <span class=n>y</span> <span class=o>=</span> <span class=s>&#34;Number of Tourist&#34;</span><span class=p>,</span>
    <span class=n>title</span> <span class=o>=</span> <span class=s>&#34;Number of Tourist Arrival from 1993 to 2018&#34;</span>
  <span class=p>)</span> <span class=o>+</span>
  <span class=nf>scale_fill_gradient</span><span class=p>(</span><span class=n>low</span><span class=o>=</span><span class=s>&#34;#fedb81&#34;</span><span class=p>,</span> <span class=n>high</span><span class=o>=</span><span class=s>&#34;red&#34;</span><span class=p>)</span><span class=o>+</span>
  <span class=nf>theme_minimal</span><span class=p>()</span>
<span class=nf>ggplotly</span><span class=p>(</span><span class=n>gplot</span><span class=p>)</span>
</code></pre></td></tr></table></div></div><iframe max-width: "100%" width=700 height=600 frameborder=0 scrolling=no src="//plotly.com/~Diwashrestha/4.embed?showlink=false"></iframe><p>This barplot shows the number of arrival of international tourist from 1993 to 2018. The trend of tourist number was good from 1993 to 2000. Then from 2001, the flow of the international tourist decreased as it was the period where civil war was at its height. The country was in the emergency period.</p><p>In 2015 there was an earthquake which destroyed most of the historic sites in Kathmandu valley and with large physical and human casualties. This decreased the number of tourist in Nepal. I can see that 2016 onward the number of tourists arrival increased every year. In 2018 the number of tourist arrival crossed first time 1 million.</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span></code></pre></td><td class=lntd><pre class=chroma><code class=language-R data-lang=R><span class=n>gplot</span> <span class=o>&lt;-</span> <span class=nf>ggplot</span><span class=p>(</span><span class=n>tourist_df</span><span class=p>,</span> <span class=nf>aes</span><span class=p>(</span>
  <span class=n>x</span> <span class=o>=</span> <span class=n>year</span><span class=p>,</span>
  <span class=n>y</span> <span class=o>=</span> <span class=n>per_change</span><span class=p>,</span> <span class=n>fill</span> <span class=o>=</span> <span class=n>per_change</span>
<span class=p>))</span> <span class=o>+</span>
  <span class=nf>geom_col</span><span class=p>()</span> <span class=o>+</span>
  <span class=nf>labs</span><span class=p>(</span>
    <span class=n>y</span> <span class=o>=</span> <span class=s>&#34;Percent Change of Tourist&#34;</span><span class=p>,</span>
    <span class=n>title</span> <span class=o>=</span> <span class=s>&#34;Percentage Change  of Tourist Arrival from 1993 to 2018&#34;</span>
  <span class=p>)</span> <span class=o>+</span>
  <span class=nf>scale_fill_gradient</span><span class=p>(</span><span class=n>low</span><span class=o>=</span><span class=s>&#34;#fedb81&#34;</span><span class=p>,</span> <span class=n>high</span><span class=o>=</span><span class=s>&#34;red&#34;</span><span class=p>)</span><span class=o>+</span>
  <span class=nf>theme_minimal</span><span class=p>()</span>
<span class=nf>ggplotly</span><span class=p>(</span><span class=n>gplot</span><span class=p>)</span>
</code></pre></td></tr></table></div></div><iframe max-width: "100%" width=700 height=400 frameborder=0 scrolling=no src="//plotly.com/~Diwashrestha/8.embed?showlink=false"></iframe><p>This plot shows the percentage change in the flow of the tourist arrival every year.</p><h3 id=top-10-country>Top 10 Country</h3><p>In this section, I will find the top 10 countries with must tourist to Nepal.</p><table><thead><tr><th>Rank</th><th>Country</th><th>2013</th><th>2014</th><th>2015</th><th>2016</th><th>2017</th></tr></thead><tbody><tr><td><em>chr</em></td><td><em>chr</em></td><td><em>chr</em></td><td><em>chr</em></td><td><em>chr</em></td><td><em>chr</em></td><td><em>chr</em></td></tr><tr><td>1</td><td>India</td><td>160832</td><td>118249</td><td>75124</td><td>135343</td><td>180974</td></tr><tr><td>2</td><td>China</td><td>104664</td><td>104005</td><td>66984</td><td>123805</td><td>113173</td></tr><tr><td>3</td><td>United States</td><td>79146</td><td>53645</td><td>42687</td><td>49830</td><td>47355</td></tr><tr><td>4</td><td>United Kingdom</td><td>51058</td><td>46295</td><td>29730</td><td>36759</td><td>35688</td></tr><tr><td>5</td><td>Sri Lanka</td><td>45361</td><td>57521</td><td>44367</td><td>37546</td><td>32736</td></tr><tr><td>6</td><td>Thailand</td><td>39154</td><td>26722</td><td>32338</td><td>33422</td><td>40969</td></tr><tr><td>7</td><td>South Korea</td><td>34301</td><td>25171</td><td>18112</td><td>23205</td><td>19714</td></tr><tr><td>8</td><td>Australia</td><td>33371</td><td>25507</td><td>16619</td><td>24516</td><td>20469</td></tr><tr><td>9</td><td>Myanmar</td><td>30852</td><td>25769</td><td>21631</td><td>N/A</td><td>N/A</td></tr><tr><td>10</td><td>Germany</td><td>29918</td><td>23812</td><td>16405</td><td>18028</td><td>22263</td></tr><tr><td>11</td><td>Bangladesh</td><td>29060</td><td>23440</td><td>14831</td><td>21851</td><td>22410</td></tr><tr><td>12</td><td>Japan</td><td>27326</td><td>22979</td><td>17613</td><td>25892</td><td>26694</td></tr><tr><td>13</td><td>France</td><td>26140</td><td>20863</td><td>16405</td><td>24097</td><td>21842</td></tr><tr><td>14</td><td>Malaysia</td><td>18284</td><td>13669</td><td>9855</td><td>18915</td><td>18842</td></tr><tr><td>15</td><td>Spain</td><td>15953</td><td>12255</td><td>6741</td><td>13110</td><td>10412</td></tr><tr><td>16</td><td>Canada</td><td>15105</td><td>12491</td><td>8398</td><td>11610</td><td>12132</td></tr><tr><td>17</td><td>Netherlands</td><td>13393</td><td>11453</td><td>7515</td><td>12320</td><td>10516</td></tr></tbody></table><p>This is the data I got from the <a href=/posts/scraping_data_with_r/ rel>Scraping Data with R blog post</a> and now I need to extract the top 10 countries from this dataframe.</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre class=chroma><code><span class=lnt>1
</span></code></pre></td><td class=lntd><pre class=chroma><code class=language-R data-lang=R><span class=n>con_tour_df</span><span class=o>&lt;-</span> <span class=nf>head</span><span class=p>(</span><span class=n>con_tour_df</span><span class=p>,</span><span class=m>10</span><span class=p>)</span>
</code></pre></td></tr></table></div></div><table><thead><tr><th>Rank</th><th>Country</th><th>2013</th><th>2014</th><th>2015</th><th>2016</th><th>2017</th></tr></thead><tbody><tr><td><em>chr</em></td><td><em>chr</em></td><td><em>chr</em></td><td><em>chr</em></td><td><em>chr</em></td><td><em>chr</em></td><td><em>chr</em></td></tr><tr><td>1</td><td>India</td><td>160832</td><td>118249</td><td>75124</td><td>135343</td><td>180974</td></tr><tr><td>2</td><td>China</td><td>104664</td><td>104005</td><td>66984</td><td>123805</td><td>113173</td></tr><tr><td>3</td><td>United States</td><td>79146</td><td>53645</td><td>42687</td><td>49830</td><td>47355</td></tr><tr><td>4</td><td>United Kingdom</td><td>51058</td><td>46295</td><td>29730</td><td>36759</td><td>35688</td></tr><tr><td>5</td><td>Sri Lanka</td><td>45361</td><td>57521</td><td>44367</td><td>37546</td><td>32736</td></tr><tr><td>6</td><td>Thailand</td><td>39154</td><td>26722</td><td>32338</td><td>33422</td><td>40969</td></tr><tr><td>7</td><td>South Korea</td><td>34301</td><td>25171</td><td>18112</td><td>23205</td><td>19714</td></tr><tr><td>8</td><td>Australia</td><td>33371</td><td>25507</td><td>16619</td><td>24516</td><td>20469</td></tr><tr><td>9</td><td>Myanmar</td><td>30852</td><td>25769</td><td>21631</td><td>N/A</td><td>N/A</td></tr><tr><td>10</td><td>Germany</td><td>29918</td><td>23812</td><td>16405</td><td>18028</td><td>22263</td></tr></tbody></table><p>This dataframe has the years in a different column. I keep all the years in year column along with there tourist arrival value.</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span></code></pre></td><td class=lntd><pre class=chroma><code class=language-R data-lang=R><span class=n>con_tour_df</span> <span class=o>&lt;-</span> <span class=nf>pivot_longer</span><span class=p>(</span><span class=n>con_tour_df</span><span class=p>,</span><span class=o>-</span><span class=nf>c</span><span class=p>(</span><span class=n>Country</span><span class=p>,</span><span class=n>Rank</span><span class=p>),</span><span class=n>names_to</span> <span class=o>=</span> <span class=s>&#34;year&#34;</span><span class=p>)</span>
<span class=n>con_tour_df</span><span class=o>$</span><span class=n>year</span> <span class=o>&lt;-</span> <span class=nf>as.numeric</span><span class=p>(</span><span class=n>con_tour_df</span><span class=o>$</span><span class=n>year</span><span class=p>)</span>
<span class=n>con_tour_df</span><span class=o>$</span><span class=n>value</span> <span class=o>&lt;-</span> <span class=nf>as.numeric</span><span class=p>(</span><span class=n>con_tour_df</span><span class=o>$</span><span class=n>value</span><span class=p>)</span>
</code></pre></td></tr></table></div></div><p>Now, I need to rank the country based on the number of tourist arrival from that country. I use mutate() to create a new column “rank”.</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span><span class=lnt>5
</span></code></pre></td><td class=lntd><pre class=chroma><code class=language-R data-lang=R><span class=n>con_tour_df</span> <span class=o>&lt;-</span> <span class=n>con_tour_df</span><span class=o>%&gt;%</span>
  <span class=nf>group_by</span><span class=p>(</span><span class=n>year</span><span class=p>)</span> <span class=o>%&gt;%</span>
  <span class=nf>mutate</span><span class=p>(</span><span class=n>rank</span> <span class=o>=</span> <span class=nf>rank</span><span class=p>(</span><span class=o>-</span><span class=n>value</span><span class=p>),</span><span class=n>Value_lbl</span> <span class=o>=</span> <span class=nf>paste0</span><span class=p>(</span><span class=s>&#34; &#34;</span><span class=p>,</span><span class=n>value</span><span class=p>))</span><span class=o>%&gt;%</span> <span class=nf>filter</span><span class=p>(</span><span class=n>rank</span> <span class=o>&lt;=</span> <span class=m>10</span><span class=p>)</span>

<span class=n>con_tour_df</span><span class=o>$</span><span class=n>value</span> <span class=o>&lt;-</span> <span class=nf>as.integer</span><span class=p>(</span><span class=n>con_tour_df</span><span class=o>$</span><span class=n>value</span><span class=p>)</span>
</code></pre></td></tr></table></div></div><table><thead><tr><th>Rank</th><th>Country</th><th>year</th><th>value</th><th>rank</th><th>Value_lbl</th></tr></thead><tbody><tr><td><chr></td><td><chr></td><td><dbl></td><td><int></td><td><dbl></td><td><chr></td></tr><tr><td>1</td><td>India</td><td>2013</td><td>160832</td><td>1</td><td>160832</td></tr><tr><td>1</td><td>India</td><td>2014</td><td>118249</td><td>1</td><td>118249</td></tr><tr><td>1</td><td>India</td><td>2015</td><td>75124</td><td>1</td><td>75124</td></tr><tr><td>1</td><td>India</td><td>2016</td><td>135343</td><td>1</td><td>135343</td></tr><tr><td>1</td><td>India</td><td>2017</td><td>180974</td><td>1</td><td>180974</td></tr><tr><td>2</td><td>China</td><td>2013</td><td>104664</td><td>2</td><td>104664</td></tr><tr><td>2</td><td>China</td><td>2014</td><td>104005</td><td>2</td><td>104005</td></tr><tr><td>2</td><td>China</td><td>2015</td><td>66984</td><td>2</td><td>66984</td></tr><tr><td>2</td><td>China</td><td>2016</td><td>123805</td><td>2</td><td>123805</td></tr><tr><td>2</td><td>China</td><td>2017</td><td>113173</td><td>2</td><td>113173</td></tr></tbody></table><p>This is the final data frame that I got after cleaning. Now, it is time to create some visualization/animation.</p><p>I am using the <a href=https://ggplot2.tidyverse.org/ target=_blank rel="noopener noreffer">ggplot2</a> package to create static visualization and <a href=https://gganimate.com/index.html target=_blank rel="noopener noreffer">gganimate</a> to create beautiful animations.</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span></code></pre></td><td class=lntd><pre class=chroma><code class=language-R data-lang=R><span class=n>colors</span> <span class=o>&lt;-</span> <span class=nf>c</span><span class=p>(</span><span class=s>&#34;#a6cee3&#34;</span><span class=p>,</span> <span class=s>&#34;#e31a1c&#34;</span><span class=p>,</span> <span class=s>&#34;#b2df8a&#34;</span><span class=p>,</span> <span class=s>&#34;#33a02c&#34;</span><span class=p>,</span>
            <span class=s>&#34;#fb9a99&#34;</span><span class=p>,</span> <span class=s>&#34;orange&#34;</span><span class=p>,</span> <span class=s>&#34;#fdbf6f&#34;</span><span class=p>,</span> <span class=s>&#34;#ff7f00&#34;</span><span class=p>,</span> 
            <span class=s>&#34;#cab2d6&#34;</span><span class=p>,</span> <span class=s>&#34;#6a3d9a&#34;</span><span class=p>,</span> <span class=s>&#34;#b15928&#34;</span><span class=p>,</span> <span class=s>&#34;#fb8072&#34;</span><span class=p>,</span>
            <span class=s>&#34;#80b1d3&#34;</span><span class=p>,</span> <span class=s>&#34;#fdb462&#34;</span><span class=p>,</span> <span class=s>&#34;#b3de69&#34;</span><span class=p>)</span>
</code></pre></td></tr></table></div></div><p>In this visualization, I need 10 different colours to show a different country in the animation. I created a colour palette and named colors which will be used while creating visualization below.</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span><span class=lnt>15
</span><span class=lnt>16
</span><span class=lnt>17
</span><span class=lnt>18
</span><span class=lnt>19
</span><span class=lnt>20
</span><span class=lnt>21
</span><span class=lnt>22
</span><span class=lnt>23
</span><span class=lnt>24
</span><span class=lnt>25
</span><span class=lnt>26
</span><span class=lnt>27
</span><span class=lnt>28
</span><span class=lnt>29
</span><span class=lnt>30
</span><span class=lnt>31
</span><span class=lnt>32
</span><span class=lnt>33
</span><span class=lnt>34
</span><span class=lnt>35
</span></code></pre></td><td class=lntd><pre class=chroma><code class=language-R data-lang=R><span class=nf>ggplot</span><span class=p>(</span><span class=n>con_tour_df</span><span class=p>,</span> <span class=nf>aes</span><span class=p>(</span><span class=n>x</span> <span class=o>=</span> <span class=n>rank</span><span class=p>,</span> <span class=n>y</span> <span class=o>=</span> <span class=n>value</span><span class=p>,</span> <span class=n>group</span> <span class=o>=</span> <span class=n>Country</span><span class=p>))</span> <span class=o>+</span>
  <span class=nf>geom_bar</span><span class=p>(</span><span class=n>stat</span> <span class=o>=</span> <span class=s>&#34;identity&#34;</span><span class=p>,</span> <span class=nf>aes</span><span class=p>(</span><span class=n>fill</span> <span class=o>=</span> <span class=n>Country</span><span class=p>))</span> <span class=o>+</span>
  <span class=nf>geom_text</span><span class=p>(</span><span class=nf>aes</span><span class=p>(</span><span class=n>y</span> <span class=o>=</span> <span class=m>0</span><span class=p>,</span> <span class=n>label</span> <span class=o>=</span> <span class=nf>paste</span><span class=p>(</span><span class=n>Country</span><span class=p>,</span> <span class=s>&#34; &#34;</span><span class=p>)),</span> <span class=n>vjust</span> <span class=o>=</span> <span class=m>0.2</span><span class=p>,</span> <span class=n>hjust</span> <span class=o>=</span> <span class=m>1</span><span class=p>)</span> <span class=o>+</span>
  <span class=nf>geom_text</span><span class=p>(</span><span class=nf>aes</span><span class=p>(</span><span class=n>y</span> <span class=o>=</span> <span class=n>value</span><span class=p>,</span> <span class=n>label</span> <span class=o>=</span> <span class=n>Value_lbl</span><span class=p>,</span> <span class=n>hjust</span> <span class=o>=</span> <span class=m>0</span><span class=p>))</span> <span class=o>+</span>
  <span class=nf>scale_y_continuous</span><span class=p>(</span><span class=n>labels</span> <span class=o>=</span> <span class=n>scales</span><span class=o>::</span><span class=n>comma</span><span class=p>)</span> <span class=o>+</span>
  <span class=nf>scale_x_reverse</span><span class=p>()</span> <span class=o>+</span>
  <span class=nf>coord_flip</span><span class=p>(</span><span class=n>clip</span> <span class=o>=</span> <span class=s>&#34;off&#34;</span><span class=p>,</span> <span class=n>expand</span> <span class=o>=</span> <span class=kc>FALSE</span><span class=p>)</span> <span class=o>+</span>
  <span class=nf>scale_fill_manual</span><span class=p>(</span><span class=n>values</span> <span class=o>=</span> <span class=n>colors</span><span class=p>)</span> <span class=o>+</span>
  <span class=nf>theme_minimal</span><span class=p>()</span> <span class=o>+</span>
  <span class=nf>theme</span><span class=p>(</span>
    <span class=n>axis.line</span> <span class=o>=</span> <span class=nf>element_blank</span><span class=p>(),</span>
    <span class=n>axis.text.x</span> <span class=o>=</span> <span class=nf>element_blank</span><span class=p>(),</span>
    <span class=n>axis.text.y</span> <span class=o>=</span> <span class=nf>element_blank</span><span class=p>(),</span>
    <span class=n>axis.ticks</span> <span class=o>=</span> <span class=nf>element_blank</span><span class=p>(),</span>
    <span class=n>axis.title.x</span> <span class=o>=</span> <span class=nf>element_blank</span><span class=p>(),</span>
    <span class=n>axis.title.y</span> <span class=o>=</span> <span class=nf>element_blank</span><span class=p>(),</span>
    <span class=n>legend.position</span> <span class=o>=</span> <span class=s>&#34;none&#34;</span><span class=p>,</span>
    <span class=n>panel.background</span> <span class=o>=</span> <span class=nf>element_blank</span><span class=p>(),</span>
    <span class=n>panel.border</span> <span class=o>=</span> <span class=nf>element_blank</span><span class=p>(),</span>
    <span class=n>panel.grid.major</span> <span class=o>=</span> <span class=nf>element_blank</span><span class=p>(),</span>
    <span class=n>panel.grid.minor</span> <span class=o>=</span> <span class=nf>element_blank</span><span class=p>(),</span>
    <span class=n>panel.grid.major.x</span> <span class=o>=</span> <span class=nf>element_line</span><span class=p>(</span><span class=n>size</span> <span class=o>=</span> <span class=m>.1</span><span class=p>,</span> <span class=n>color</span> <span class=o>=</span> <span class=s>&#34;grey&#34;</span><span class=p>),</span>
    <span class=n>panel.grid.minor.x</span> <span class=o>=</span> <span class=nf>element_line</span><span class=p>(</span><span class=n>size</span> <span class=o>=</span> <span class=m>.1</span><span class=p>,</span> <span class=n>color</span> <span class=o>=</span> <span class=s>&#34;grey&#34;</span><span class=p>),</span>
    <span class=n>plot.title</span> <span class=o>=</span> <span class=nf>element_text</span><span class=p>(</span><span class=n>size</span> <span class=o>=</span> <span class=m>25</span><span class=p>,</span> <span class=n>hjust</span> <span class=o>=</span> <span class=m>0.5</span><span class=p>,</span> <span class=n>face</span> <span class=o>=</span> <span class=s>&#34;bold&#34;</span><span class=p>,</span> <span class=n>vjust</span> <span class=o>=</span> <span class=m>1</span><span class=p>),</span>
    <span class=n>plot.subtitle</span> <span class=o>=</span> <span class=nf>element_text</span><span class=p>(</span><span class=n>size</span> <span class=o>=</span> <span class=m>18</span><span class=p>,</span> <span class=n>hjust</span> <span class=o>=</span> <span class=m>0.5</span><span class=p>,</span> <span class=n>face</span> <span class=o>=</span> <span class=s>&#34;italic&#34;</span><span class=p>),</span>
    <span class=n>plot.caption</span> <span class=o>=</span> <span class=nf>element_text</span><span class=p>(</span><span class=n>size</span> <span class=o>=</span> <span class=m>8</span><span class=p>,</span> <span class=n>hjust</span> <span class=o>=</span> <span class=m>0.5</span><span class=p>,</span> <span class=n>face</span> <span class=o>=</span> <span class=s>&#34;italic&#34;</span><span class=p>,</span> <span class=n>color</span> <span class=o>=</span> <span class=s>&#34;grey&#34;</span><span class=p>),</span>
    <span class=n>plot.background</span> <span class=o>=</span> <span class=nf>element_blank</span><span class=p>(),</span>
    <span class=n>plot.margin</span> <span class=o>=</span> <span class=nf>margin</span><span class=p>(</span><span class=m>2</span><span class=p>,</span> <span class=m>2</span><span class=p>,</span> <span class=m>2</span><span class=p>,</span> <span class=m>4</span><span class=p>,</span> <span class=s>&#34;cm&#34;</span><span class=p>))</span> <span class=o>+</span>
  <span class=nf>transition_states</span><span class=p>(</span><span class=n>year</span><span class=p>,</span> <span class=n>transition_length</span> <span class=o>=</span> <span class=m>3</span><span class=p>,</span> <span class=n>state_length</span> <span class=o>=</span> <span class=m>1</span><span class=p>)</span> <span class=o>+</span>
  <span class=nf>enter_drift</span><span class=p>(</span><span class=n>x_mod</span> <span class=o>=</span> <span class=m>-2</span><span class=p>)</span> <span class=o>+</span>
  <span class=nf>exit_drift</span><span class=p>(</span><span class=n>x_mod</span> <span class=o>=</span> <span class=m>2</span><span class=p>)</span> <span class=o>+</span>
  <span class=nf>ease_aes</span><span class=p>(</span><span class=s>&#34;cubic-in&#34;</span><span class=p>)</span> <span class=o>+</span>
  <span class=nf>view_follow</span><span class=p>(</span><span class=n>fixed_x</span> <span class=o>=</span> <span class=kc>TRUE</span><span class=p>)</span> <span class=o>+</span>
  <span class=nf>labs</span><span class=p>(</span><span class=n>title</span> <span class=o>=</span> <span class=s>&#34;Tourist Arrival by country : {closest_state}&#34;</span><span class=p>,</span> 
       <span class=n>subtitle</span> <span class=o>=</span> <span class=s>&#34;Top 10 Countries&#34;</span><span class=p>)</span>
</code></pre></td></tr></table></div></div><p><img class=lazyload src=/svg/loading/small.min.svg data-src=/images/tourist_arrival.gif data-srcset="/images/tourist_arrival.gif, /images/tourist_arrival.gif 1.5x, /images/tourist_arrival.gif 2x" data-sizes=auto alt=/images/tourist_arrival.gif title=/images/tourist_arrival.gif></p><h3 id=conclusion>Conclusion</h3><p>In this blog I showed the interactive visualization made with <a href=https://ggplot2.tidyverse.org/ target=_blank rel="noopener noreffer">ggplot2</a> and <a href=https://plot.ly/r/ target=_blank rel="noopener noreffer">plotly</a> using the <a href=/posts/scraping_data_with_r/ rel>scraped data</a>. I also made the animation showing the number of tourist arrival based on country from 2013 to 2017.</p><p>Feel free to send to me your feedback and suggestions regarding this post!</p><h6 id=reference>Reference</h6><p><a href=https://towardsdatascience.com/create-animated-bar-charts-using-r-31d09e5841da target=_blank rel="noopener noreffer">AbdulMajedRaja Rs.</a> <a href=https://gganimate.com/index.html target=_blank rel="noopener noreffer">gganimate</a> <a href=https://ggplot2.tidyverse.org/index.html target=_blank rel="noopener noreffer">ggplot2</a></p></div><div class=post-footer id=post-footer><div class=post-info><div class=post-info-line><div class=post-info-mod><span>The article was updated on Friday, Nov 22, 2019</span></div><div class=post-info-license></div></div><div class=post-info-line><div class=post-info-md></div><div class=post-info-share><span></span></div></div></div><div class=post-info-more><section class=post-tags></section><section><span><a href=javascript:void(0); onclick=window.history.back();>Back</a></span>&nbsp;|&nbsp;<span><a href=/>Home</a></span></section></div><div class=post-nav><a href=/posts/scraping_data_with_r/ class=prev rel=prev title="Scraping Data with R"><i class="fas fa-angle-left fa-fw"></i>Scraping Data with R</a>
<a href=/posts/solveathon-2019/ class=next rel=next title="Solveathon 2019: Nepal Tourism Dashboard">Solveathon 2019: Nepal Tourism Dashboard<i class="fas fa-angle-right fa-fw"></i></a></div></div></article></div></main><footer class=footer><div class=footer-container><div class=footer-line>Powered by <a href=https://gohugo.io/ target=_blank rel="noopener noreffer" title="Hugo 0.69.2">Hugo</a> | Theme - <a href=https://github.com/dillonzq/LoveIt target=_blank rel="noopener noreffer" title="LoveIt 0.2.8"><i class="far fa-kiss-wink-heart fa-fw"></i>LoveIt</a></div><div class=footer-line><i class="far fa-copyright fa-fw"></i><span itemprop=copyrightYear>2017 - 2020</span><span class=icp-splitter>&nbsp;|&nbsp;</span><br class=icp-br><span class=icp>Diwash Shrestha</span></div></div></footer></div><div id=fixed-buttons><a href=# id=back-to-top class=fixed-button title="Back to Top"><i class="fas fa-arrow-up fa-fw"></i></a><a href=# id=view-comments class=fixed-button title="View Comments"><i class="fas fa-comment fa-fw"></i></a></div><link rel=stylesheet href=/lib/lightgallery/lightgallery.min.css><style>.lg-toolbar .lg-icon::after{color:#999}</style><script type=text/javascript src=/lib/smooth-scroll/smooth-scroll.min.js></script><script type=text/javascript src=/lib/lazysizes/lazysizes.min.js></script><script type=text/javascript src=/lib/lightgallery/lightgallery.min.js></script><script type=text/javascript src=/lib/lightgallery/lg-thumbnail.min.js></script><script type=text/javascript src=/lib/lightgallery/lg-zoom.min.js></script><script type=text/javascript src=/lib/clipboard/clipboard.min.js></script><script type=text/javascript>window.config={"code":{"copyTitle":"Copy to clipboard","maxShownLines":10},"comment":{},"lightGallery":{"actualSize":false,"exThumbImage":"data-thumbnail","hideBarsDelay":2000,"selector":".lightgallery","speed":400,"thumbContHeight":80,"thumbWidth":80,"thumbnail":true}};</script><script type=text/javascript src=/js/theme.min.js></script></body></html>